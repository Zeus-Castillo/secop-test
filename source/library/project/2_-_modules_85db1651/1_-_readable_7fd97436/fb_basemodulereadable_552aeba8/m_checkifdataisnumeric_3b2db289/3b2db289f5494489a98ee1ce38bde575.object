{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)3b2db289-f549-4489-a98e-e1ce38bde575","ParentGuid":"(Guid)552aeba8-69d4-4f40-9593-59848768ad16","Name":"(string)M_CheckIfDataIsNumeric","Properties":{"@Type":"2c41fa04:IDictionary","@Value":[{"@Key":"(Guid)24568a24-c491-472c-a21f-ee5d33859fab","@Value":{"@Type":"24568a24","@Value":{"MemoryReserveForOnlineChange":"(int)0","ExcludeFromBuild":"(bool)False","External":"(bool)False","EnableSystemCall":"(bool)False","CompilerDefines":"(string)","LinkAlways":"(bool)False","Undefines":{"@Type":"[string]","@Value":[]}}}}]},"TypeGuid":"(Guid)f8a58466-d7f6-439f-bbb8-d4600e41d099","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"24568a24":"{24568a24-c491-472c-a21f-ee5d33859fab}","2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","bool":"System.Boolean","Guid":"System.Guid","int":"System.Int32","string":"System.String"}},"object":{"Graph":{"@Type":"f8a58466","@Value":{"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)\n// Copy input and trim\nsWork := i_sDataToParse;\nStrTrimA(pString:= ADR(sWork));\n\n// Empty -> not numeric\ndiLength := StrLenA(ADR(sWork));\nIF diLength = 0 THEN\n    M_CheckIfDataIsNumeric := FALSE;\n    RETURN;\nEND_IF;\n\n// Optional leading sign at position 1\niPosition := 1;\nStrMidA(\n    pst                := ADR(sWork),\n    uiInputBufferSize  := SIZEOF(sWork),\n    iLength            := 1,\n    iPosition          := iPosition,\n    pstResult          := ADR(sChar),\n    uiResultBufferSize := SIZEOF(sChar)\n);\nIF (StrCaseCmpA(ADR(sChar), ADR(sPlus)) = 0) OR\n   (StrCaseCmpA(ADR(sChar), ADR(sMinus)) = 0) THEN\n    iPosition := iPosition + 1;\n    IF iPosition > diLength THEN\n        // Sign alone is not a number\n        M_CheckIfDataIsNumeric := FALSE;\n        RETURN;\n    END_IF;\nEND_IF;\n\n// Scan characters from current position to end\nWHILE iPosition <= diLength DO\n    // sChar := substring(sWork, pos, 1)\n    StrMidA(\n        pst                := ADR(sWork),\n        uiInputBufferSize  := SIZEOF(sWork),\n        iLength            := 1,\n        iPosition          := iPosition,\n        pstResult          := ADR(sChar),\n        uiResultBufferSize := SIZEOF(sChar)\n    );\n\n    // digit? ('0' <= sChar <= '9')\n    IF (StrCaseCmpA(ADR(sChar), ADR(sZero)) >= 0) AND\n       (StrCaseCmpA(ADR(sChar), ADR(sNine)) <= 0) THEN\n        xhasDigit := TRUE;\n\n    // single '.' allowed unless it must be an integer\n    ELSIF (StrCaseCmpA(ADR(sChar), ADR(sDot)) = 0) THEN\n        IF i_xMustBeInteger OR xHasDot THEN\n            M_CheckIfDataIsNumeric := FALSE; // second dot\n            RETURN;\n        END_IF;\n        xHasDot := TRUE;\n\n    ELSE\n        // Any other char (space, comma, letters incl. e/E, etc.) -> not numeric\n        M_CheckIfDataIsNumeric := FALSE;\n        RETURN;\n    END_IF;\n\n    iPosition := iPosition + 1;\nEND_WHILE;\n\n// Must include at least one digit\nM_CheckIfDataIsNumeric := xhasDigit;\n\n","LineInfoPersistence":"(string)3b2db289-f549-4489-a98e-e1ce38bde575_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)METHOD M_CheckIfDataIsNumeric : BOOL\nVAR_INPUT\n\t/// Data to parse\n\ti_sDataToParse: STRING(GPL.Gc_uiMaxSizeMessage);\n\t/// TRUE => only integer allowed (no '.')\t\n\ti_xMustBeInteger: BOOL;\nEND_VAR\nVAR\n\t/// Working buffer and single-char temp (1 char + '\\0')\n\tsWork: STRING(GPL.Gc_uiMaxSizeMessage);\n\tsChar: STRING(2);\n\t/// Literals for comparisons\n\tsPlus: STRING(2) := '+';\n\tsMinus: STRING(2) := '-';\n\tsDot: STRING(2) := '.';\n\tsZero: STRING(2) := '0';\n\tsNine: STRING(2) := '9';\n\t/// Loop/state\n\tdiLength: DINT;\n\t/// 1-based for StrMidA\n\tiPosition: INT;\n\txHasDigit: BOOL;\n\txHasDot: BOOL;\nEND_VAR\n","LineInfoPersistence":"(string)3b2db289-f549-4489-a98e-e1ce38bde575_Decl_LineIds"}}}}}},"TypeInfos":{"3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","f8a58466":"{f8a58466-d7f6-439f-bbb8-d4600e41d099}","string":"System.String"}}},"FormatVersion":"1.0"}